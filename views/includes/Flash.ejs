<!-- Toast Container -->
<div id="toast-container" style="position: fixed; top: 20px; right: 20px; z-index: 100;">

    <% if(success && success.length> 0) { %>
        
        <% success.forEach(msg=> { %>

            <div class="toast-message success" data-toast>

                <i class="fa-regular fa-circle-check toast-success-icon"></i>
                <%= msg %>
                <i class="fa-solid fa-xmark toast-cross" data-close></i>

            </div>
            <% }) %>
        <% } %>


        <% if(error && error.length> 0) { %>
            
            <% error.forEach(msg=> { %>
                            
                <div class="toast-message error" data-toast>
                
                    <i class="fa-solid fa-triangle-exclamation toast-error-icon"></i>
                    <%= msg %>
                    <i class="fa-solid fa-xmark toast-cross" data-close></i>
                
                </div>
            <% }) %>
        <% } %>

</div>

<!-- Toast Styles -->
<style>
    
    .toast-cross {
        font-size: 11px;
        color: #6a6a6a;
        margin-left: 12px;
        cursor: pointer;

    }

    .toast-success-icon {
        font-size: 18px;
        color: #27AE60;
    }

    .toast-error-icon {
        font-size: 18px;
        color: #FF3B58;
        font-weight: 600;
    }

    .toast-message {
        color: #222;
        font-size: 14px;
        font-weight: 600;
        background-color: #fff;
        border-radius: 12px;
        padding: 16px;

        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 12px;
        box-shadow: 0 4px 12px rgba(106, 106, 106, 0.25);

        opacity: 0;
        transform: translateX(40px);
        animation: slideIn 0.45s ease forwards;

    }

    .toast-message.success {
        border-left: 4px solid #27AE60;
        border-bottom: 4px solid #27AE60;
    }

    .toast-message.error {
        border-left: 4px solid #FF3B58;
        border-bottom: 4px solid #FF3B58;
    }

    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateX(40px);
        }
        to {
            opacity: 1;
            transform: translateX(0px);
    }
}

    /* Smooth Fade Out */
    .toast-hide {
        animation: fadeOut 0.35s ease forwards;
    }

    @keyframes fadeOut {
        from {
            opacity: 1;
            transform: translateX(0);
        }
        to {
            opacity: 0;
            transform: translateX(40px);
        }
    }
</style>


<script>
document.addEventListener("DOMContentLoaded", () => {
    
    const toasts = document.querySelectorAll("[data-toast]");

    toasts.forEach(toast => {

        // Close on clicking "X"
        const closeBtn = toast.querySelector("[data-close]");

        if (closeBtn) {
            closeBtn.addEventListener("click", () => {
                toast.classList.add("toast-hide");
                setTimeout(() => toast.remove(), 350);
            });
        }

        setTimeout(() => {
            toast.classList.add("toast-hide");
            setTimeout(() => toast.remove(), 350);
        }, 4000);

    });
});
</script>
